/**
 * Sonoma Index Tribune
 * http://www.sonomanews.com
 *
 * Copyright (c) 2013 Kyle Breckenridge
 * Licensed under the GPLv2+ license.
 */
@import "compass";
@import "partials/variables";
* {
	@include box-sizing(border-box);
}
@import "partials/normalize";
@import "partials/typography";
@import "partials/forms";
@import "partials/galswiper";

.wrapper {
	width: 1060px;
	margin: 0 auto;
	position: relative;
	text-align: left;
	padding: 0 20px;
}
header[role="banner"] {
	margin-bottom: 15px;
	.ad {
		@include inline-block;
		vertical-align: top;
		margin-left: 15px;
	}
	.top-nav {
		@include inline-block;
		vertical-align: top;
		border-left: 1px solid white;
		width: 15%;
		margin: -1px 0 0 -.25em;
		a {
			display: block;
			color: white;
			text-transform: uppercase;
			font-weight: bold;
			text-align: right;
			border-bottom: 1px solid white;
			line-height: 1.72em;
			font-size: .8em;
			padding: 0 10px;
			font-family: $sans;
			background-color: #ccc;
			$num: 0;
			@while $num < 5 {
				&:nth-child(#{$num}) {
					$num2: $num * 7;
					background-color: darken(#ccc, $num2);
					$num: $num + 1;
				}
			}
			&:hover {
				text-decoration: none;
				background-color: black;
			}
		}
	}
	.magcover {
		float: right;
		position: absolute;
		top: 0;
		right: 30px;
		z-index: 3;
	}
	.logo {
		width: 100%;
		padding: 15px 5% 0;
		height: auto;
		border-top: 1px solid $border-color;
	}
}
nav[role="navigation"] {
	border: {
		top: 1px solid $border-color;
		bottom: 1px solid $border-color;
	}
	text-align: justify;
	&:before{
	    content: '';
	    display: block;
	    width: 100%;
	    margin-bottom: -1.22em;
	}

	&:after {
	    content: '';
	    display: inline-block;
	    width: 100%;
	}
	a {
		color: lighten($text-grey, 30%);
		@include inline-block;
		line-height: 1.7em;
		text-transform: uppercase;
		position: relative;
		top: 1.2em;
		padding: 0 2px;
		margin-left: -.25em;
		&:hover {
			background-color: black;
			color: white;
			text-decoration: none;
		}
		&:first-child {
			margin-left: 0;
		}
	}
}
.col-1 {
	@include inline-block;
	vertical-align: top;
	width: 69.5%;
	border-right: 1px solid $border-color;
	padding-right: 10px;
	.featured {
		@include inline-block;
		vertical-align: top;
		width: 68%;
		border-right: 1px solid $border-color;
		padding-right: 10px;
		img {
			width: 474px;
			height: auto;
		}
	}
	.top-news {
		@include inline-block;
		vertical-align: top;
		width: 32%;
		margin-left: -.26em;
		padding-left: 10px;
		border-left: 1px solid $border-color;
		h4 {
			margin-top: 0;
			padding-top: 0;
		}
	}
}
.top-news {
	ul {
		@extend %no-list;
	}
	li {
		@extend %no-list;
		border-bottom: 1px solid $border-color;
		&:last-child {
			border-bottom: 0px;
		}
	}
	a {
		display: block;
		margin: 8px 0;
		color: $text-grey;
	}
}
.sections {
	@include inline-block;
	vertical-align: top;
	width: 68%;
	padding: 0 5px;
	margin-bottom: 20px;
	.box {
		@include inline-block;
		vertical-align: top;
		width:50%;
		padding: 10px 20px 15px;
		border-bottom: 1px solid $border-color;
		height: 300px;
		overflow: hidden;
		position: relative;
		&:nth-child(even) {
			border-left: 1px solid $border-color;
		}
		&:after {
			position: absolute;
			background: white;
			@include background(linear-gradient(top, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 70%));
			bottom: 0;
			width: 100%;
			height: 10px;
			content: "";
		}
		img {
			width: 100%;
			height: 108px;
			display: block;
			margin: 0 auto;
		}
		h3 {
			margin-top: 0;
			padding-top: 0;
			position: relative;
			font-size: 1.1em;
			&:after {
				position: absolute;
				top: .2em;
				right: 0em;
				color: $border-color;
				font-size: .5em;
				content: "view more..."
			}
		}
		h4 {
			font-size: 1.1em;
			border-bottom: 0px;
		}
		p:last-child {
			margin-bottom: 0;
		}
	}
}
.local-events-widget {
	@include inline-block;
	vertical-align: top;
	width: 31.5%;
	margin: 0 -.25em 20px 0;
	text-align: right;
}
.north-bay-headlines {
	background-color: #f3f3f5;
	padding: 10px;
	ul {
		@extend %no-list;
	}
	li {
		@extend %no-list;
		margin-bottom: 10px;
	}
}
.col-2 {
	@include inline-block;
	vertical-align: top;
	width: 30.5%;
	margin-left: -.25em;
	padding-left: 10px;
	text-align: center;
	time {
		font-family: $sans;
		font-size: .8em;
	}
}
[role="search"] {
	margin: 10px 0;
	input[type="text"] {
		margin: 0;
		width: 80%;
		@include inline-block;
	}
	input[type="submit"] {
		margin: 0 0 0 -.28em;
		width: 20%;
		padding: calc(.3em + 1px) 0;
		@include inline-block;
	}
}
.most-read {
	text-align: left;
	position: relative;
	margin: 10px 0;
	height: 220px;
	padding: 10px 0;
	border: {
		top: 1px solid $border-color;
		bottom: 1px solid $border-color;
	}
	h3 {
		color: shade($text-grey, 50%);
		margin: 0;
		padding: 0;
		font-size: 1.1em;
		line-height: 1.2em;
		background-color: tint($border-color, 30%);
		padding: .2em .3em;
		@include border-radius(3px);
	}
	.nav {
		position: absolute;
		top: 1em;
		right: .3em;
		span {
			background-color: shade($border-color, 10%);
			@include border-radius(3px 3px 0 0);
			cursor: pointer;
			margin-right: .35em;
			padding: .2em .5em;
			font-size: .8em;
			&.active {
				background-color: shade($border-color, 30%);
				color: white;
			}
		}
	}
	> div {
		position: absolute;
		top: 2.3em;
		left: 0;
		right: 0;
		z-index: 5;
		padding: .3em;
		background-color: shade($border-color, 30%);
		@include border-radius(0 0 3px 3px);
	}
	ul.wpp-list {
		@extend %no-list;
		li {
			@extend %no-list;
			border-bottom: 1px solid $text-grey;
			border-top: 1px solid $border-color;
			overflow: none;
			padding: .3em;
			&:first-child {
				border-top: 0px;
			}
			&:last-child {
				border-bottom: 0px;
			}
		}
	}
}
.footer-ad {
	display: block;
	margin: 10px auto;
}
.site-footer {
	background-color: tint($border-color, 50%);
	@include border-radius(3px);
	padding: .3em;
	margin: 10px 0;
	.logo {
		width: 40%;
		margin-bottom: .5em;
		display: block;
		&:after {
			content: "";
			display: table;
			clear: both;
		}
	}
	.col {
		@include inline-block;
		vertical-align: top;
		margin-left: -.25em;
		border-top: 1px solid $border-color;
		border-right: 1px solid $border-color;
		padding: 20px 40px;
		width: 25%;
		min-height: 277px;
		&:first-child {
			margin-left: 0;
		}
		&:last-child {
			border-right: 0;
		}
	}
	h3 {
		margin-top: 0;
		margin-bottom: .5em;
		padding-top: 0;
		border-bottom: 1px solid $border-color;
		text-transform: uppercase;
	}
	ul, li {
		@extend %no-list;
	}
	li a {
		padding: .2em 0;
		font-size: .9em;
	}
}
.footer-copyright {
	font-size: .9em;
	text-align: center;
	a:after {
		content: " | ";
	}
}

.top {
	border-bottom: 1px solid $border-color;
	padding-bottom: 25px;
	img {
		width: 100%;
		height: auto;
	}
	[itemprop="articleBody"] {
		max-width: 75%;
		margin-left: auto;
		margin-right: auto;
		p:last-child {
			margin-bottom: 0px;
		}
	}
}
.sections > article {
	padding: .5em 0;
	border-bottom: 1px solid $border-color;
	&:last-child {
		border-bottom: 0px;
	}
	img {
		@include inline-block;
		vertical-align: top;
		width: 23%;
		margin-right: 3%;
		height: auto;
	}
	> div {
		@include inline-block;
		vertical-align: top;
		text-align: left;
		width: 74%;
		margin-left: -.25em;
	}
	h2 {
		font-size: 1.3em;
		margin: 0;
		padding: 0 0 .3em;
		line-height: 1.2em;
	}
	p:last-child {
		margin-bottom: 0;
	}
}
.archive-link {
	text-align: right;
}
.caption {
	margin-bottom: 10px;
	border-bottom: 1px solid $border-color;
	font-size: .9em;
	p:last-child {
		max-width: 100%;
		margin-bottom: 0;
		padding: .4em 0;
	}
}

article {
	position: relative;
	time {
		font-style: italic;
		font-weight: bold;
		font-family: $sans;
		font-size: .8em;
	}
	header {
		margin-bottom: 10px;
		position: relative;
	}
	.share {
		position: absolute;
		bottom: 0;
		right: 0;
		font-size: 1.3em;
		header & {
			bottom: .5em;
		}
	}
	[data-icon] {
		@include inline-block;
		vertical-align: top;
		margin-left: .1em;
	}
	h4 {
		border: 0px;
	}
	.authorpic {
		width: 10%;
		float: left;
		margin-right: 20px;
	}
}
#disqus_thread {
	margin-top: 10px;
}
@media print {
	.col-1 {
		width: 100% !important;
		display: block;
		border: 0 !important;
		position: relative;
	}
	[itemtype="http://schema.org/NewsArticle"] {
		width: 100% !important;
		margin: 0;
		padding: 15px;
		background-color: white;
		font-size: 18px;
		line-height: 24px;
		.caption {
			display: none;
		}
		[itemprop="articleBody"] {
			max-width: 100% !important;
			width: 100% !important;
		}
	}
	.top-nav, .magcover, nav, footer, .share, aside, #disqus_thread, .ad, img, .footer-copyright {
		display: none !important;
	}
	.logo {
		display: block !important;
	}
}